<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<!--
    <link rel="stylesheet" type="text/css" href="../css/issStyle1.css">
    <script type="text/javascript" src="../css/issStyle.js"></script>
-->
<style type="text/css">
body
{
    margin-left:  30px;
    margin-right: 30px;
};

P
{
    font-family: Tahoma;
    font-size: 10pt;
};

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
	font-size: 93%;
}

a:hover {
    background-color: #cccccc;
}


hr {
    clear: both;
    height: 1px;
    color: #242424;
    background-color: transparent;
}

h1, h2, h3 {
    color: #242424;
    clear: left;
    font: 100% Tahoma, Helvetica, Arial, sans-serif;
    margin-bottom: 0.5em;
    padding-top: 0.5em;
	border-radius: 10px;
	padding: 5px;
}

top {
	width: 100%;
}


#i {
    color: #ff1010;
}
tt{
	font-family: "Arial";
    font-size: 90%;
	color: #006600;
}
em{
	font-family: "Arial";
    font-size: 80%;
	font-weight: bold;
	border-style:solid;
	border-color: #abe876;
    color: #1632cc;
}
bc{
	font-family: "Arial";
	font-size: 90%;
	font-weight: bold;
    color: #990000;
	background-color: #fcf8c7;
}
ks{
	font-family: "Arial";
	font-weight: bold;
    color: #0000CD	;
	font-size: 90%;
}
kc{
	font-family: "Arial";
	font-weight: bold;
    color: #008000	;
	font-size: 90%;
}
pre{
	font-family:monospace;
    font-weight: 500;
	font-size: 85%;
	background-color: #f5f5f5;
	border: 1.5px solid silver;
	padding: 5px;
}
key{
    font-family:system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    font-weight: 500;
	font-size: 90%;
    color: #304ceb;
}
key2{
    font-family:system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    font-weight: 500;
	font-size: 90%;
    color: #ad0d0f;
}

key3{
    font-family:system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    font-weight: 500;
	font-size: 100%;
    color: #01b948;
}

key4{
    font-family:system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    font-weight: 500;
	font-size: 90%;
    color: #008232;
}

m{
	font-family: "Helvetica";
	line-height: 100%;
 	font-size: 75%;
}
div.body{
	 
    font-size: 18px;
}
k{
    color: #990000;
	font-weight: bold;
	font-size: 90%;
}
h1 {
    font-size: 150%;
    background-color: #b2c0ff;
	padding: 10px;
}

h2 {
    background-color: #9ed8ff;
    font-size: 130%;
}

h3 {
	background-color: #e6ccff;
    font-size: 100%;
}
h4 {
    background-color: #6dd4f4b5;
    font-size: 100%;
	width: 100%;
	border-radius: 5px;
	padding: 2px;
}
h5 {
    background-color: #91df4d;
    font-size: 100%;
    width: 100%;
	border-radius: 5px;
	padding: 2px;
}
div.req{
	background-color: #d9ffb3;
    font-size: 18px;
	width: 700px;
    border: 3px solid green;
    padding: 15px;
    margin: 10px;
}
div.remark{
	background-color: #E3F2FD;
    border: 1.5px solid #d5f2ed;
    padding: 15px;
    margin: 10px;
	border-radius: 25px;
}
table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}

ol, ul, li {
  margin: 0;
  margin-left: 10px;
  padding: 0;
  padding-bottom: 5px;
}

table, th, td {
	border: 1px solid black;
}

img {
	border: 1.5px solid #d5f2ed

}

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
}

div.wrapdesc{
	width: 90%;
	margin: auto;
}

div.imagedesc{
	width: 85%;
	margin: auto;
}
</style>
    
<head>
    <meta charset="UTF-8">
    <title>Sprint1</title>
</head>
    
<body>
<div id="top">
<h1>LABORATORIO DI INGEGNERIA DEI SISTEMI SOFTWARE <font size="5"></font> </h1>
</div>  

<div class="body"> 
<h2>Introduction</h2>
    
 
<h2>Requirements</h2>
<div class="remark">
    <a href="../../Sprint0/userDocs/resouces/html/TemaFinale22.html">TemaFinale22</a>
</div>

<h2>Work Plan</h2>
<div class="remark">
    In this Sprint we will focus on the <kc>Core Business</kc> of the system, we will analyze the main problems 
        relating to the core business, proposing solutions and identifying the best among them. 
        We will also develop a working prototype of the analyzed subproblem and automated tests to verify its correct functioning. <br>
        In particular, we will analyze the problems related to:
        <ul>
            <li>
                <a href="#depAct"><b>Deposit Action</b></a>
                <ul>
                    <li>How to move the <kc>transport trolley</kc> to its destination.</li>
                    <li>How the components of the system interacts.</li>
                    <li>How to manage the <kc>Service Area</kc> status.</li>
                </ul>
            </li>
            <li>
                <a href="#BackHome"><b>Back to Home</b></a>
                <ul>
                    <li>Who manages the "<i>back to home</i>" action </li>
                    <li>How the components interact</li>
                </ul>
            </li>
            <li> 
                <a href="#ASAP"><b>Send the <kc>truck</kc> away as soon as possible</b> </a>
                <ul>
                    <li>Identify the moment when the truck must leave the <kc>INDOOR</kc></li>
                    <li>How to tell the truck to leave <kc>INDOOR</kc></li>
                </ul>
            </li>
        </ul>
        
</div>

<h2>Problem analysis</h2>
<div class="remark">
    <h3>Sprint0 result</h3>
    At the end of the requirement analysis, reported in <a href="../../Sprint0/userDocs/sprint0.html">Sprint0</a>, the logical architecture is as follows: <br></br>
    <center><img src="../../Sprint0/userDocs/resouces/images/newLogicalArch.png" width="60%" height="60%"></center>
    <br>
</div>
<div class="remark">
    <div id="depAct"><h3>Requirement: Deposit Action</h3></div>
    <h4>Muovere il robot verso una destinazione</h4>
    <h5>Come orientarsi nella stanza</h5>
    Dai requisiti risulta chiaro che le dimensioni della stanza siano note apriori, così come sono note le posizioni dei punti d'interesse
    (<kc>HOME</kc>, <kc>INDOOR</kc>, <kc>PLASTICBOX</kc>, <kc>GLASSBOX</kc>) e altri valori costanti.
    Affinchè il sistema sia a conoscenza di tali informazioni, sarebbe opportuno configurarlo in maniera opportuna. <br>
    A tal proposito si potrebbero seguire due differenti approcci: <br>
    <ol>
        <li>Cablare i valori nel codice dell'applicazione</li>
        <li>Utilizzare un file di configurazione</li>
    </ol>
    Dal momento che il software debba essere capace di funzionare correttamente in <kc>Service areas</kc> di qualsiasi dimensioni, 
    la soluzione <b>n.1</b> risulta poco riutilizzabile e quindi inadatta, inquanto un cambiamento di <i>Service Area</i> richiederebbe un 
    cambiamento nel codice dell'applicazione con conseguente <i>rebuild</i> dell'applicazione stessa. <br>
    Per tale motivo consigliamo di utilizzare un <ks>file di configurazione</ks> che può essere facilmente modificato senza richiedere 
    cambiamenti di codice. Poiche, al momento, l'unico componente interessato a conoscere i dati di configurazione è il <kc>wasteService</kc>
    il file di configurazione può essere posizionato sul suo nodo computazionale, ed è consultabile in <a href="./resources/json/wasteServiceSystemConfig.json">wasteServiceSystemConfig.json</a>
    <pre>
{
    <key4>"LOCATION"</key4>: {
        <key4>"HOME"</key4>: ... ,
        <key4>"INDOOR"</key4>: ... ,
        <key4>"PLASTICBOX"</key4>: ... ,
        <key4>"GLASSBOX"</key4>: ...
    },
    <key4>"MAXPB"</key4>: 500,
    <key4>"MAXGB"</key4>: 500,
    <key4>"DLIMIT"</key4>: 40
}</pre>

    <h4>Interazione tra i componenti</h4>

    <h4>Stato della Service Area</h4>
</div>
<div class="remark">
    <div id="BackHome"><h3>Requirement: Back to Home</h3></div>
    Dai requisiti sappiamo che nel momento in cui l'azione di <kc>deposit action</kc> è terminata 
    e nel caso in cui non ci siano altre richieste il <kc>transport trolley</kc> deve ritornare alla <kc>HOME</kc>. 
    
    Per affrontare questa problematica bisogna capire chi si occupa di dire al transport trolley di tornare nella posizione di HOME.<br>
    Possono essere due le entità che si occupano di ciò:
        <h4>WasteService</h4>
            E' il WasteService a comunicare al transport trolley di "rientrare" alla posizione di HOME.<br>
            Questa soluzione dovrebbe essere quella utilizzata dallo sviluppatore poichè il wasteService, 
            che ricordiamo essere un entità attiva, nello specifico ha il compito di gestire le richieste che provengono dal 
            <kc>truck</kc> e quindi è a conoscenza se nel sistema vi siano ancora richieste da gestire o meno. 
            Quando non vi sono richieste sarà suo compito in qualche modo (tramite dei comandi o messaggi) comunicare al transport trolley di tornare in HOME.
        
            <h4>Transport Trolley</h4>
            E' il transport trolley stesso a muoversi fino a spostarsi in HOME.<br>
            Tale soluzione non è in grado di verificare autonomamente se nel sistema vi siano ancora richieste, poichè non vi è nessun collegamento "diretto" tra truck e transport trolley.
            Pertanto di per sè il transport trolley potrebbe ritornare in HOME, ma il rischio è che ci siano all'interno del sistema ancora delle richieste da gestire di cui il transport trolley
            non ne è a conoscenza per cui non si avrà mai una risposta. In ogni caso una possibile soluzione potrebbe prevedere l'invio di automessaggio da parte del transport trolley.

</div>
<div class="remark">
    <div id="ASAP" ><h3>Requirement: As soon as possible</h3></div>
    After the interaction with the customer we made it clear that the truck must be sent away as soon as possible. We need to identify when the truck should leave the <kc>INDOOR</kc> and  how to send it away.
    <h4>Leave the <kc>INDOOR</kc></h4>
    Different ways:
    <ul>
        <li>The truck could leave the <kc>INDOOR</kc> immediately after unloading</li>
        <li>The truck could leave the <kc>INDOOR</kc> after the transport trolley has unloaded the garbage in the container</li>
    </ul>
    To meet the requirement of the customer and then send the truck away as soon as possible, we will use the first option that results in the end of the <kc>pickup </kc>action.
    

    <h4>How to send it away</h4>
    Different ways:
    <ul>
        <li>We can send the truck away with the <kc>loadaccept</kc> after the trolley has finished the pickup action.</li>
        <li>We can send the truck away with a new message after the trolley pickingup, having already sent him the <kc>loadaccept</kc> to accept the load.</li>
    </ul>
    It is less expensive in terms of load on the network to send a single message (loadaccept) to accept the load and to send the truck away.
    <pre>
    <key2>State</key2> acceptRequest{
        <key2>request</key2> transporttrolley <key2>-m</key2> pickup : pickup
    }<key2>Transition</key2> t0 <key2>whenReply</key2> pickupdone -> dropout
                                                        
    <key2>State</key2> dropout{
        [# boxState.updateBoxWeight(requestMaterialToStore, requestWeightToStore) #]				
        <key2>replyTo</key2> storeWaste <key2>with</key2> loadaccept : loadaccept(_)
        [#var TYPE = requestMaterialToStore.toString()#]
        <key2>request</key2> transporttrolley <key2>-m</key2> dropout : dropout(TYPE)
    }<key2>Transition</key2> t0 <key2>whenReply</key2> dropoutdone -> idle                                         
}
    </pre>
    After the WasteService receives the message from the transportTrolley: <br>
     <key2>Reply</key2> pickupdone : pickupdone(_) <br>
     transits in the dropout state and sends to SmartDevice: <br> <key2>replyTo</key2> storeWaste <key2>with</key2> loadaccept : loadaccept(_).
</div>
<!-- USEFUL
<table style="width:100%" border="1">
<tr>
<td style="width:50%">
</td>
<td></td>
</tr>
</table>
-->
	      	
<br/><br/> 	

<div style="background-color:rgba(60, 131, 186, 0.9); width:50%;text-align:center;color:white; margin-left: 25%; border-radius: 25px;" >
    <br>
    By students: <br>
    Name: Annamaria Simonitto, Enrico Valastro, Alessio Reitano   
    <br>
    Email: annamaria.simonitto@studio.unibo.it, enrico.valastro@studio.unibo.it, alessio.reitano@studio.unibo.it
    <br><br>
    <img src="../../Sprint0/userDocs/resouces/images/AnnamariaSimonitto.jpg" alt="" width="8%" height="8%">
    <img src="../../Sprint0/userDocs/resouces/images/EnricoValastro.jpeg" alt="" width="8.5%" height="8.5%">
    <img src="../../Sprint0/userDocs/resouces/images/AlessioReitano.jpeg" alt="" width="10%" height="10%">
</div> 
</body>
</html>